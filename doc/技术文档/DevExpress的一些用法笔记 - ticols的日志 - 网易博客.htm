  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <meta http-equiv="content-type" content="text/html;charset=gbk"/>
    <meta http-equiv="content-style-type" content="text/css"/>
    <meta http-equiv="content-script-type" content="text/javascript"/>
    <meta name="version" content="neblog-1.0"/>
    <script type="text/javascript">
      
      
      document.uniqueID!=document.uniqueID&&!!location.hash&&(location.hash=location.hash); 
      document.domain = location.hostname.replace(/^.*\.([\w]+\.[\w]+)$/,'$1');
      window.focus();
      window.getMusicTimeStamp=function(){return '432a1048f4b908e950622939b42eeb1e';};
    </script>
<title>DevExpress的一些用法笔记 - ticols的日志 - 网易博客</title>
<meta name="author" content="ticols,ticols"/>
<meta name="keywords" content="DevExpress的一些用法笔记,日志,ticols,力力大仙的博客,网易博客,网易,blog"/>
<meta name="description" content="DevExpress的一些用法笔记,ticols的网易博客,笔记本,"/>
  <script type="text/javascript">
    (function(){
     var R=24,C=11,a=[];
     for(var i=0;i<C;i++)for(var j=0;j<R;a.push('.icn0-'+i+j+'{background-position:'+(i>0?('-'+i*40+'px'):'0')+' '+(j>0?('-'+j*20+'px'):'0')+';}'),j++);
          document.write('<style type="text/css">'+a.join('')+'</st'+'yle>');
    })();
  </script>
    <link type="text/css" rel="stylesheet" href="http://b2.bst.126.net/newpage/r/c/c.css?v=6117371190"/>
    <link type="text/css" rel="stylesheet" href="http://b.bst.126.net/newpage/style/nblog/4228/nb.css" id="blog-163-com-theme"/>
  <!--[if lte IE 6]>
  <style type="text/css">
    html,body,#blog-163-com-ie6body{height:100%;width:100%;overflow:hidden;}
    #blog-163-com-ie6body{overflow:auto;overflow-y:scroll;}
    #blog-163-com{background:none;}
  </style>
  <![endif]-->
  
  <style type="text/css">.m-3 .nbw-ryt .left .mcnt{padding-left:10px;}.m-3 .nbw-ryt .right .acts{position:relative;margin:0 0 35px 0;line-height:20px;}.m-3 .nbw-ryt .right .more{margin-top:-15px;height:24px;line-height:24px;}#blog-163-com .m-3 .phide{display:none;}.m-3 .nbw-ryt .left .nbw-bitm{margin:0;padding:0 0 0 10px;}.m-3 .nbw-ryt .left .nbw-bitm .title{margin:30px 0 20px;}.m-3 .nbw-ryt .left .nbw-bitm .title .tcnt{font-size:20px;font-family:'微软雅黑','黑体',Arial,Helvetica,Sans-Serif;}.m-3 .nbw-ryt .left .nbw-bitm .tdep{margin-bottom:20px;}.m-3 .nbw-ryt .left .nbw-bitm .tbar{margin:5px 0;padding:10px 10px 10px 0;line-height:20px;text-align:right;}.m-3 .nbw-ryt .left .nbw-bitm .bct{font-size:14px;padding-left:0}.m-3 .nbw-ryt .left .nbw-bitm .muava{float:left;margin:5px 7px 0 0;border-width:0 1px 0 0;height:40px;}.m-3 .nbw-ryt .left .snl .pnb div{line-height:20px;text-align:left;}.m-3 .nbw-ryt .cite{margin:20px 0 0 50px;line-height:24px;text-align:left;}.m-3 .nbw-ryt .cite .close{float:right;margin:0;text-align:right;}.m-3 .nbw-ryt .cite span{cursor:pointer;}.m-3 .nbw-ryt .cite .nbw-act{text-align:center;}.m-3 .nbw-ryt .cite .ads{margin-left:20px;width:400px;}.m-3 .nbw-ryt .cite .tbac{margin-left:60px;padding:0;border:0;list-style:none;line-height:24px;}.m-3 .nbw-ryt .cite .tbl{width:150px;overflow:hidden;}.m-3 .nbw-ryt .cite .tbr{margin-left:20px;overflow:hidden;}.m-3 .nbw-act-share{position:relative;}.m-3 .nbw-act-share .nas-wrap{visibility:hidden;}.m-3 .nbw-act-share:hover .nas-wrap,.m-3 .js-share-hover .nas-wrap{visibility:visible;}.m-3 .nas-wrap,.nas-itm,.nas-wb{background:url(/newpage/images/blog/icn-share.png?0010) no-repeat 9999px 9999px;}.m-3 .nas-wrap{margin-top:5px;}.nas-itm,.nas-wb{text-decoration:none;}.nas-itm,.nas-wb:hover{text-decoration:underline;}.m-3 .nas-itm{float:left;width:16px;height:16px;margin:0 1px 0 6px;overflow:hidden;cursor:pointer;}.m-3 .nas-itm0{background-position:0 -173px;}.m-3 .nas-itm1{background-position:0 -56px;}.m-3 .nas-itm2{background-position:0 -85px;}.m-3 .nas-itm3{background-position:0 -227px;}.m-3 .nas-itm4{background-position:0 -143px;}.m-3 .nas-itm5{background-position:0 -201px;}.m-3 .nas-itm6{background-position:0 -249px;}.m-3 .nas-itm7{background-position:0 -283px;}.m-3 .nas-itm8{background-position:0 -313px;}.nas-wb{padding-left:20px;cursor:pointer;line-height:normal;background-position:0 -173px;}.nas-icn0fix{margin-top:4px;}.nas-tofix{margin-top:0;*margin-top:2px;line-height:25px;}.m-3 .relateblog{text-align:left;}.m-3 .relateblog h4{margin:0;padding:0 0 0 10px;line-height:30px;}.m-3 .relateblog .cnt{padding-left:8px;margin:10px 0 10px 0px;}.m-3 .relateblog .cnt ul{margin:0;padding:0;list-style:none;}.m-3 .relateblog .cnt ul li{height:24px;margin-right:20px;line-height:24px;}.m-3 .relateblog .cnt ul li span{margin:0 8px;}.m-3 .author, .m-3 .comment{text-align:left;}.m-3 .author .nlogif{width:150px;line-height:20px;margin-left:5px;_margin-left:3px;}.m-3 .author .nlogif .nbw-fce{margin:0 3px 0 10px;_margin-left:5px}.m-3 .author .nlogif .pright{width:85px;margin:0;padding:5px 0;_padding-top:10px}.m-3 .nbw-ryt .right h4{margin:0;padding:0;line-height:30px;}.m-3 .author h4, .m-3 .comment h4{margin:0;padding:0 0 0 10px;line-height:30px;}.m-3 .author .cwd{border:0;text-align:left;}.m-3 .author .vname{width:50px;}.m-3 .author .cnt{margin:10px 0 10px -5px;}.m-3 .author .nbw-fce{margin:0 11px;}.m-3 .author .nbw-f50{width:50px}.m-3 .nbw-ryt .left .top{position:relative;padding-bottom:5px;line-height:20px;}.m-3 .nbw-ryt .left .top .ilft{position:absolute;left:0;top:0;}.m-3 .nbw-ryt .left .top .irgt{position:absolute;right:-10px;top:0;}.m-3 .nbw-ryt .left .top .pleft{margin-left:20px;_margin-left:10px;overflow:hidden;width:40%;height:20px;text-align:left}.m-3 .nbw-ryt .left .top .pright{margin-right:10px;_margin-right:5px;overflow:hidden;width:40%;height:20px;text-align:right}.m-3 .nbw-ryt .left .snl .top{position:relative;padding:5px 0 15px 0;line-height:20px;}.m-3 .nbw-ryt .left .snl .top .ilft{position:absolute;left:-10px;top:5px;}.m-3 .nbw-ryt .left .snl .top .irgt{position:absolute;right:-10px;top:5px;}.m-3 .nbw-ryt .left .snl .top .pleft{margin-left:10px;_margin-left:5px;overflow:hidden;width:40%;height:20px;text-align:left}.m-3 .nbw-ryt .left .snl .top .pright{margin-right:10px;_margin-left:5px;overflow:hidden;width:40%;height:20px;text-align:right}.m-3 .nbw-ryt .left .snl .pnb{padding:5px 0 10px 10px;overflow:hidden;_width:100%}.m-3 .comment h4{padding:0 0 0 10px}.m-3 .comment .publish{margin:10px 0;padding:0 0 10px 5px;text-align:left;}.m-3 .comment .publish .nbw-fce{padding-top:0;}.m-3 .comment .publish .nbw-fce .cwd{border:0;}.m-3 .comment .publish .redt{margin-left:65px;}.m-3 .comment .nolog{border:1px solid #000;background-color:#FFFFE1;height:40px;line-height:40px;text-align:center;padding:0;_padding:10px 0;_height:20px;}.m-3 .comment .case{padding-left:5px;padding-bottom:10px;}.m-3 .comment .vgl{margin:8px;width:75%;text-align:center;}#blog-163-com .m-3 .comment .nbw-cmt .cnt{width:488px;}#blog-163-com .m-3 .comment .nbw-cmt .nbw-cmt .cnt{width:444px;}.m-3 .edt-cmt{width:444px;}.m-3 .comment .publish .edt-cmt{width:488px;}.m-3 .comment .publish .edt-cmt .zbcc{display:none;}.m-3 .nbw-ryt .left .nbw-bitm .js-fs0,.m-3 .nbw-ryt .left .nbw-bitm .js-fs0 *{font-size:150%;}.m-3 .nbw-ryt .left .nbw-bitm .js-fs1,.m-3 .nbw-ryt .left .nbw-bitm .js-fs1 *{font-size:130%;}.m-3 .nbw-ryt .left .nbw-bitm .js-fs2,.m-3 .nbw-ryt .left .nbw-bitm .js-fs2 *{}.m-3 .js-fcurrent{font-color:#000;font-weight:bold;text-decoration:none;}.m-3 .nbw-bitm .dream{margin-top:-10px;}.m-3 .nbw-bitm .cited{margin-top:-15px;}.m-3 .nbw-bitm .rdif{line-height:24px;height:24px;}.m-3 .nbw-bitm .rdif .pnt{line-height:24px;height:24px;margin-right:10px;}.m-3 .nbw-bitm .rdif .pclass{vertical-align:middle;width:57px;height:22px;}.m-3 .nbw-bitm .rdif .rdct{display:inline-block;}.m-3 .snl .rdcnt{padding:5px;text-align:left}.m-3 .snl .rdcnt .nbw-fce{margin:0 5px}.m-3 .snl .rdcnt p{margin:10px 0}.m-3 .snl .rdcnt .rrb{list-style:none;height:22px;line-height:22px;}.m-3 .acts .iblock{width:18px;}.m-3 .ns{margin:0 0 0 2px;}.m-3 .cancel{display:none;}.m-3 .js-hover .cancel, .m-3 .follow:hover .cancel, .m-3 .frd:hover .cancel{display:inline;}.m-3 .follow{*margin-left:2px;}.m-3 .flw{padding:7px 8px;color:#000;background:#fefce4;border:1px solid #b7b7b7;}.m-3 .acts .flw .iblock{width:20px;}.m-3 .sntesctf{width:15px;margin-left:3px;}.dr-warm{width:480px;padding:12px 18px;margin:18px 0;line-height:20px;border:1px solid #aaa;color:#666;background:#ffffdc;}.dr-warm a,.dr-warm a:hover{text-decoration:underline;color:#02a;}.m-3 .cmtMultiUserRole{position:absolute;left:62px;bottom:5px;width:300px;overflow-x;hidden;}.m-3 .cmtMultiUserRole .selectRole{float:right;padding:1px 1px 0 1px;border:none;}.m-3 .cmtMultiUserRole .selectRole .ztxt{float:left;width:auto;overflow:hidden;}.m-3 .cmtMultiUserRole .selectRole .zdwn{float:left;background:url("/newpage/images/icon.png") -240px -420px no-repeat;text-indent:-9999px;}.m-3 .cmtMultiUserRole .selectRole .zlst .zitm{}.m-3 .cmtMultiUserRole .selectRole .zlst .zitm:hover, .m-3 .cmtMultiUserRole .selectRole .slst .item.js-zhvr-910{color:#333;background-color:#ececec;}.m-3 .nbw-cmt{position:static;}.m-3 .nbw-cmt .thde{position:relative;zoom:1;}.m-3 .publish .redt{position:relative;zoom:1;}.m-3 .publish .redt .cmtMultiUserRole{left:135px;_left:132px;}.m-3 .cmtMultiUserRole .js-showlist{padding:0;margin:0;border-style:solid;border-width:1px 1px 0 1px;border-color:#aaa;}.m-3 .cmtMultiUserRole .js-showlist .zlst{border-style:solid;border-width:0 1px 1px 1px;border-color:#aaa;}.m-3 .multiuserItem{}.m-3 .multiuserItem .author{margin-right:-50px;}.m-3 .multiuserItem .multicntwrap{padding:30px 0 20px 0;}.m-3 .multiuserItem .multicnt{_padding-top:2px;margin-left:50px;}.m-3 .nbw-ryt .left .multiuserItem .multicnt .title{width:95%;margin-top:0;margin-bottom:0;}.m-3 .nbw-ryt .left .multiuserItem .multicnt .tdep{margin-bottom:0;}</style>
  </head>
<body id="blog-163-com" class="nb-body nb-inr nb-prv">
  <!--[if lte IE 6]><div id="blog-163-com-ie6bodywrap" class=""><![endif]-->
    <!--[if lte IE 6]><div id="blog-163-com-ie6body" class="nb-body"><![endif]-->


<div class="nb-nbar clearfix" id="blog-163-com-topbar">
  <div class="pl fl clearfix">
  <div id=""" class="nbw-im fl im im0">
    <a class="lbl bd ia noul " href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_blank" hidefocus="true"><span class="tx">网易</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/">
            新闻
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://t.163.com/">
            微博
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/">
            邮箱
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628">
            闪电邮
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/">
            相册
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/">
            有道
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://m.123.163.com/?frombkcp">
            手机邮
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/">
            印像派
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://dream.163.com/?from=bkcp">
            梦幻人生
          </a>
        <div class="sep bd space">&nbsp;</div>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/">
            更多
          </a>
        
    </div>
  </div>
  <div id=""" class="nbw-im fl im im10">
    <a class="lbl bd ia noul " href="http://blog.163.com/?frompersonalbloghome" target="_blank" hidefocus="true"><span class="tx">博客</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/?frompersonalbloghome">
            博客首页
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/ht/?frompersonalbloghome">
            博客话题
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/hot/history/?frompersonalbloghome">
            热点专题
          </a>
          <a   class="itm noul youcai " target="_blank" hidefocus="true" href="http://blog.163.com/BLOG_YOUCAI/">
            博客油菜地
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome">
            找朋友
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://q.163.com/#home?frompersonalbloghome">
            博客圈子
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/public/theme/?frompersonalbloghome">
            博客风格
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome">
            手机博客
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome">
            短信写博
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/services/mailblog.html?frompersonalbloghome">
            邮件写博
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://blog.163.com/clone/clone.html?frompersonalbloghome">
            博客复制
          </a>
        
    </div>
  </div>
    
  <div id=""" class="nbw-im fl im im10">
    <a class="lbl bd ia noul " href="http://photo.163.com/pp/square/?frompersonalbloghome" target="_blank" hidefocus="true"><span class="tx">摄影</span><span class="iblock icn0 icn0-421">&nbsp;</span></a><div class="nbw-tcd box-shadow bd">
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://photo.163.com/pp/?frompersonalbloghome">
            主题展区
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://photo.163.com/pp/zhuanti.html?frompersonalbloghome">
            每日专题
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://photo.163.com/pp/advance/?frompersonalbloghome">
            高级拍客
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://photo.163.com/pp/star/">
            摄影人物志
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://photo.163.com/pp/interview/list/">
            摄影师专访
          </a>
          <a   class="itm noul  " target="_blank" hidefocus="true" href="http://photo.163.com/pp/dianping/list/">
            摄影点评
          </a>
        
    </div>
  </div>
    
    
    <div class="nbw-im fl im1 im seebyway"><a class="lbl bd ima spy" href="http://blog.163.com/randomUser.do">随便看看</a></div>
    
    <span class="fl iblock space icn1 icn1-4">&nbsp;</span>
    <div id="topbar_randShowArea" class="fl">
      <div class="nbw-im fl im1 im randtag"><a style="width:145px;background:url(/newpage/images/topbar/springfat.gif) no-repeat 0 3px" target="_blank" class=" bd ima moveblog randshow" href="http://blog.163.com/services/spring2011.html?bkspring_20110127_13">&nbsp;</a></div>
    </div>
  </div>
  <div class="fr pr clearfix">
    <div id="topbar_loginAndReg" class="fr">
      <a class="iblock fr ima" href="http://reg.163.com/reg/reg0_new.jsp?product=blog&url=http://blog.163.com/ntesRegBlank.html" target="_blank">注册</a>
      <span class="fr iblock space icn1 icn1-4 spx">&nbsp;</span>
      <a class="iblock fr ima ztag" href="#">登录</a>
    </div>
  </div>
</div>
<script type="text/javascript">
  (function(){
      var e = document.getElementById('blog-163-com-main');
      if(!!e) e.parentNode.insertBefore(document.getElementById('blog-163-com-topbar'),e);
      e = document.getElementById('blog-notice-email');
      if(!!e) window.setTimeout(function(){e.style.display='';},50);
  })()
</script>
<div class="blogtoptips phide" id="blog-163-com-toptips">
 <div class="blogtoptipswrap">
    <div id="newbulletinstip" class="newbulletinstip phide">
    <a class="lnknews fc03 m2a tiptag phide" href="" target="_blank"></a><span class="txtnews tiptag phide"></span>&nbsp;&nbsp;&nbsp;<a class="fc03 ul nextorprevnews tiptag phide" href="" hidefocus="true">显示下一条</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a class="fc03 ul close tiptag" href="" hidefocus="true">关闭</a>
  </div>
 </div>
    <div id="istyletip" class="istyletip phide">
    <img src="/newpage/images/istyletip.png" usemap="#istylemap" border="0px"/>
    <map name="istylemap">
		<area shape="rect" coords="780,13,865,34" href="http://istyle.163.com/" target="_blank" title="去社区看看">
		<area class="istyletag m2a" shape="rect" coords="880,15,910,32" href="#" title="关闭">
	</map>
   </div>
</div>  <div class="nb-wrap wsy" id="blog-163-com-main"><div class="nb-are nb-top">
  <div class="wkg h" id="blog-163-com-banner">
    
    <div class="t">
      <h1 class="n c"><span class="ztag pre">力力大仙的博客</span></h1>
      <p class="d c"><span class="ztag pre">笔记本</span></p>
    </div>
    <div class="f h ztag"></div>
    <a class="x" hidefocus="true" target="_blank" href="#"><span class="xx ztag"></span></a>
  </div>
</div><div class="nb-are nb-nav">
  <div class="wkg">
    <div class="c h">
      <h2>导航</h2>
      <ul class="noul clearfix">
                
	        <li class="w w0">
	          <a class="i i0 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/">首页</a>
	        </li>
	        <li class="w w1 selected">
	          <a class="i i1 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/blog/">日志</a>
	        </li>
	        <li class="w w2">
	          <a class="i i2 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/album/">相册</a>
	        </li>
	        <li class="w w3">
	          <a class="i i3 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/music/">音乐</a>
	        </li>
	        <li class="w w4">
	          <a class="i i4 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/collection/">收藏</a>
	        </li>
	        <li class="w w5">
	          <a class="i i5 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/friends/">博友</a>
	        </li>
	        <li class="w w6">
	          <a class="i i6 fc01 h" hidefocus="true" href="http://ticols.blog.163.com/profile/">关于我</a>
	        </li>
      </ul><!--
 --></div>
    <div class="l h">&nbsp;</div>
    <div class="r h">&nbsp;</div>
  </div>
</div>  <div class="nb-are nb-smt"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
  <div class="nb-are nb-cnt">
    <div class="wkg">
      <div class="c wc h clearfix " id="blog-163-com-container">  <div class="nb-mdl lcr m-3" id="-3">
  <div class="nb-mt lcr th fc02">
    <div class="c tc th lcr"><h2 class="thide nb-jsc">日志</h2></div>
    <div class="r tm th nb-jsc"></div>
    <div class="l tl th">&nbsp;</div>
    <div class="r tr th">&nbsp;</div>
  </div>
    <div class="nb-mc lcr">
      <div class="c cc lcr nb-jsc"><div class="nbw-ryt ztag clearfix ">
  <div class="right bdwl bds0 bdc0"><div class="cnt ztag"></div></div>
  <div class="left">
     <div class="lcnt bdwr bds0 bdc0 ">   
      <div id="$_divTopLink" class='top fc03 bdwb bdc0 bds2 clearfix'>
        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
        <div class="pleft thide"><a class="m2a"  href="http://ticols.blog.163.com/blog/static/25304216200811794217571/"> SQL流水帐</a></div>
        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
        <div class="pright thide"><a class="m2a" href="http://ticols.blog.163.com/blog/static/25304216200912625944340/">FastReport 问题汇总</a></div>
     </div> 
     <div class="mcnt ztag"> 
      <div class="nbw-bitm bdwb bds2 bdc0 ">
        <div class="multicntwrap">
	      	<div class="multicnt">
	      	  <div>
		        <h3 class="title pre fs1"><span class="tcnt">DevExpress的一些用法笔记</span><span class="bgc0 fc07 fw0 fs0"></span></h3>
		        <p class="tdep clearfix nbw-act fc06" style="line-height:20px;">
		          <span class="pleft">
		            <a class="fc03 m2a" href="http://ticols.blog.163.com/blog/#m=0&t=1&c=fks_087065081081088075087080094095086083082067080084087069" title="软件开发笔记">软件开发笔记</a>
		            <span class="sep">2009-01-31 22:15:55</span>
		            <span class="sep">阅读<span id="$_spanReadCount">151</span></span>
		            <span class="sep">评论<span id="$_spanCommentCount">0</span></span>
		          </span>
		          <span class="pright fc07 ztag"><span class="sep"></span>&nbsp;&nbsp;字号：<span class="ul sep fc04">大</span><span  class="ul sep fc04" >中</span><span  class="sep ul fc04" >小</span></span><span class="pright pnt fc03" id="$_blog_subscribe"><span class="iblock icn0 icn0-919">&nbsp;</span><a class="m2a">订阅</a></span>
		        </p>
		      </div>
	        </div>
        </div>
        
        <div class="bct fc05 fc11 nbw-blog ztag"><P><BR>&nbsp;2004-1-10 17:08:06&nbsp;&nbsp;&nbsp; 1.扩展cxLookupComboBox,使其支持多列查询的cxLookupComboBoxEx //==============================================================================<BR>// Unit Name: cxLookupComboBoxEx<BR>// Author&nbsp;&nbsp; : ysai<BR>// Date&nbsp;&nbsp;&nbsp;&nbsp; : 2003<BR>// Purpose&nbsp; : 扩展cxLookupComboBox,cxDBLookupComboBox,使其支持多列过滤<BR>// History&nbsp; :<BR>//&nbsp;&nbsp;&nbsp; 2003-05-28大数据量改进<BR>//&nbsp;&nbsp;&nbsp; 2003-07-07可操作性改进<BR>//&nbsp;&nbsp;&nbsp; 2003-08-20效率改进<BR>//&nbsp;&nbsp;&nbsp; 2003-08-29加入过滤延时<BR>// 注意:<BR>//&nbsp;&nbsp;&nbsp;&nbsp; 限制1,不能再使用Properties.OnChange事件<BR>//&nbsp;&nbsp;&nbsp;&nbsp; 限制2,不能再使用Properties.ListSource.DataSet.OnFilterRecord事件<BR>//&nbsp;&nbsp;&nbsp;&nbsp; 限制3,不能再使用Properties.ListSource.DataSet.Filtered属性<BR>//&nbsp;&nbsp;&nbsp;&nbsp; 其它,最好在设计期设好一切属性,运行期再设置属性可能引发求知错误<BR>//==============================================================================</P>
<P>unit cxLookupComboBoxEx;</P>
<P>interface</P>
<P>uses<BR>&nbsp; SysUtils, Classes, Controls, Windows, Messages,DB,StrUtils,<BR>&nbsp; cxControls, cxContainer, cxEdit, cxTextEdit,<BR>&nbsp; cxMaskEdit, cxDropDownEdit, cxLookupEdit, cxDBLookupEdit,<BR>&nbsp; cxDBLookupComboBox;</P>
<P>type<BR>&nbsp; TcxLookupComboBoxEx = class(TcxLookupComboBox)<BR>&nbsp; private<BR>&nbsp;&nbsp;&nbsp; //保存要过滤的字段列表<BR>&nbsp;&nbsp;&nbsp; FFieldList&nbsp; : TList;<BR>&nbsp;&nbsp;&nbsp; FFindText&nbsp;&nbsp; : String;<BR>&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; //过滤事件<BR>&nbsp;&nbsp;&nbsp; procedure _OnFilterRecord(DataSet: TDataSet; var Accept: Boolean);<BR>&nbsp;&nbsp;&nbsp; //编辑框文字改变事件<BR>&nbsp;&nbsp;&nbsp; procedure _OnChange(Sender : TObject);<BR>&nbsp;&nbsp;&nbsp; procedure GetFieldList;<BR>&nbsp;&nbsp;&nbsp; //延时过滤消息<BR>&nbsp;&nbsp;&nbsp; procedure WMTimer (var Message: TMessage); message WM_TIMER;<BR>&nbsp; protected<BR>&nbsp;&nbsp;&nbsp; //下拉表格收回时<BR>&nbsp;&nbsp;&nbsp; procedure CloseUp(AAccept: Boolean); override;<BR>&nbsp;&nbsp;&nbsp; //过滤过程<BR>&nbsp;&nbsp;&nbsp; procedure _FilterListSource;<BR>&nbsp;&nbsp;&nbsp; //初始化下拉表格事件<BR>&nbsp;&nbsp;&nbsp; procedure DoInitPopup; override;<BR>&nbsp; public<BR>&nbsp;&nbsp;&nbsp; constructor Create(AOwner : TComponent); override;<BR>&nbsp;&nbsp;&nbsp; destructor Destroy; override;<BR>&nbsp;&nbsp;&nbsp; //更新要过滤的字段列表<BR>&nbsp;&nbsp;&nbsp; procedure UpdateFilterFields;<BR>&nbsp; published<BR>&nbsp; end;</P>
<P>&nbsp; TcxDBLookupComboBoxEx = class(TcxDBLookupComboBox)<BR>&nbsp; private<BR>&nbsp;&nbsp;&nbsp; //保存要过滤的字段列表<BR>&nbsp;&nbsp;&nbsp; FFieldList&nbsp; : TList;<BR>&nbsp;&nbsp;&nbsp; FFindText&nbsp;&nbsp; : String;</P>
<P>&nbsp;&nbsp;&nbsp; //过滤事件<BR>&nbsp;&nbsp;&nbsp; procedure _OnFilterRecord(DataSet: TDataSet; var Accept: Boolean);<BR>&nbsp;&nbsp;&nbsp; //编辑框文字改变事件<BR>&nbsp;&nbsp;&nbsp; procedure _OnChange(Sender : TObject);<BR>&nbsp;&nbsp;&nbsp; //取得要过滤的字段列表<BR>&nbsp;&nbsp;&nbsp; procedure GetFieldList;<BR>&nbsp;&nbsp;&nbsp; //延时过滤消息<BR>&nbsp;&nbsp;&nbsp; procedure WMTimer (var Message: TMessage); message WM_TIMER;<BR>&nbsp; protected<BR>&nbsp;&nbsp;&nbsp; //下拉表格收回时<BR>&nbsp;&nbsp;&nbsp; procedure CloseUp(AAccept: Boolean); override;<BR>&nbsp;&nbsp;&nbsp; //过滤过程<BR>&nbsp;&nbsp;&nbsp; procedure _FilterListSource;<BR>&nbsp;&nbsp;&nbsp; //初始化下拉表格事件<BR>&nbsp;&nbsp;&nbsp; procedure DoInitPopup; override;<BR>&nbsp; public<BR>&nbsp;&nbsp;&nbsp; constructor Create(AOwner : TComponent); override;<BR>&nbsp;&nbsp;&nbsp; destructor Destroy; override;<BR>&nbsp;&nbsp;&nbsp; //更新要过滤的字段列表<BR>&nbsp;&nbsp;&nbsp; procedure UpdateFilterFields;<BR>&nbsp; published<BR>&nbsp; end;</P>
<P>procedure Register;</P>
<P>implementation</P>
<P>const<BR>&nbsp; UM_TIMER_FILTER = WM_USER + $101;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //自定义延时消息ID<BR>&nbsp; FILTERTIMER&nbsp;&nbsp;&nbsp;&nbsp; = 500;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //延时时间<BR>&nbsp; DROPDOWN_ROWS&nbsp;&nbsp; = 12;</P>
<P>procedure Register;<BR>begin<BR>&nbsp; RegisterComponents('Dev Express', [TcxLookupComboBoxEx,TcxDBLookupComboBoxEx]);<BR>end;</P>
<P>{ TcxLookupComboBoxEx }</P>
<P>procedure TcxLookupComboBoxEx.CloseUp(AAccept: Boolean);<BR>begin<BR>&nbsp; inherited;<BR>&nbsp; //收起下拉后取消过滤<BR>&nbsp; if&nbsp; Assigned(Properties.ListSource) then<BR>&nbsp;&nbsp;&nbsp; if Assigned(Properties.ListSource.DataSet) then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered := False;<BR>end;</P>
<P>constructor TcxLookupComboBoxEx.Create(AOwner: TComponent);<BR>begin<BR>&nbsp; inherited;<BR>&nbsp; //默认值<BR>&nbsp; Properties.AutoSelect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp; Properties.DropDownAutoSize&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; True;<BR>&nbsp; Properties.DropDownListStyle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; lsEditList;<BR>&nbsp; Properties.DropDownRows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; DROPDOWN_ROWS;<BR>&nbsp; Properties.DropDownSizeable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; True;<BR>&nbsp; Properties.IncrementalFiltering&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp; Properties.Revertable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; True;<BR>&nbsp; Properties.OnChange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; _OnChange;<BR>&nbsp; Properties.UseLeftAlignmentOnEditing&nbsp; :=&nbsp; False;<BR>end;</P>
<P>destructor TcxLookupComboBoxEx.Destroy;<BR>begin<BR>&nbsp; //释放过滤字段列表<BR>&nbsp; if Assigned(FFieldList) then FFieldList.Free;<BR>&nbsp; inherited;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx.DoInitPopup;<BR>begin<BR>&nbsp; //取得过滤字段<BR>&nbsp; if&nbsp; Assigned(Properties.ListSource) then<BR>&nbsp;&nbsp;&nbsp; if Assigned(Properties.ListSource.DataSet) then<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GetFieldList;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered := False;<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; inherited DoInitPopup;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx._FilterListSource;<BR>//过滤字段<BR>begin<BR>&nbsp; if Assigned(Properties.ListSource)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and Assigned(Properties.ListSource.DataSet) then<BR>&nbsp; try<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.DisableControls;<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.OnFilterRecord&nbsp; :=&nbsp; _OnFilterRecord;<BR>&nbsp;&nbsp;&nbsp; if Text &lt;&gt;&nbsp; '' then<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFindText :=&nbsp; Text;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if SelLength &gt; 0 then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFindText :=&nbsp; LeftStr(Text,SelStart);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered&nbsp; :=&nbsp; FFindText &lt;&gt; '';<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp; Changed;<BR>&nbsp; finally<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.EnableControls;<BR>&nbsp; end;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx.GetFieldList;<BR>//取得过滤字段列表<BR>var<BR>&nbsp; i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Integer;<BR>&nbsp; sFieldName&nbsp; : String;<BR>&nbsp; fdTemp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : TField;<BR>begin<BR>&nbsp; if not Assigned(FFieldList) then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; FFieldList&nbsp; :=&nbsp; TList.Create;<BR>&nbsp;&nbsp;&nbsp; for i:=0 to Properties.ListColumns.Count -1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sFieldName := Properties.ListColumns.Items[i].FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if sFieldName = '' then Continue;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fdTemp&nbsp; :=&nbsp; Properties.ListSource.DataSet.FindField(sFieldName);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if Assigned(fdTemp) then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFieldList.Add(Pointer(fdTemp));<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; end;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx._OnChange(Sender: TObject);<BR>//设置延时<BR>begin<BR>&nbsp; if Focused and DroppedDown then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; KillTimer(Handle,UM_TIMER_FILTER);<BR>&nbsp;&nbsp;&nbsp; SetTimer(Handle,UM_TIMER_FILTER,FILTERTIMER,nil);<BR>&nbsp; end;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx._OnFilterRecord(DataSet: TDataSet;<BR>&nbsp; var Accept: Boolean);<BR>//过滤事件<BR>var<BR>&nbsp; s : String;<BR>&nbsp; i : Integer;<BR>begin<BR>&nbsp; s :=&nbsp; LowerCase(FFindText);<BR>&nbsp; if (s &lt;&gt; '') and (Properties.ListColumns.Count &gt; 0) then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; Accept&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp; for i := 0 to FFieldList.Count -1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Accept&nbsp; :=&nbsp; Pos(s,LowerCase(TField(FFieldList[i]).AsString))&gt;0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if Accept then Exit;<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; end<BR>&nbsp; else<BR>&nbsp;&nbsp;&nbsp; Accept&nbsp; :=&nbsp; True;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx.WMTimer(var Message: TMessage);<BR>//延时更新消息<BR>begin<BR>&nbsp; KillTimer(Handle,UM_TIMER_FILTER);<BR>&nbsp; if Focused and DroppedDown then _FilterListSource;<BR>end;</P>
<P>procedure TcxLookupComboBoxEx.UpdateFilterFields;<BR>//更新要过滤的字段列表<BR>begin<BR>&nbsp; if Assigned(FFieldList) then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; FFieldList.Free;<BR>&nbsp;&nbsp;&nbsp; FFieldList&nbsp; :=&nbsp; nil;<BR>&nbsp; end;<BR>&nbsp; GetFieldList;<BR>end;</P>
<P>{ TcxDBLookupComboBoxEx }</P>
<P>procedure TcxDBLookupComboBoxEx.CloseUp(AAccept: Boolean);<BR>begin<BR>&nbsp; inherited;<BR>&nbsp; //收起下拉后取消过滤<BR>&nbsp; if&nbsp; Assigned(Properties.ListSource) then<BR>&nbsp;&nbsp;&nbsp; if Assigned(Properties.ListSource.DataSet) then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered := False;<BR>end;</P>
<P>constructor TcxDBLookupComboBoxEx.Create(AOwner: TComponent);<BR>begin<BR>&nbsp; inherited;<BR>&nbsp; //默认值<BR>&nbsp; Properties.AutoSelect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp; Properties.DropDownListStyle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; lsEditList;<BR>&nbsp; Properties.DropDownRows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; DROPDOWN_ROWS;<BR>&nbsp; Properties.DropDownSizeable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; True;<BR>&nbsp; Properties.IncrementalFiltering&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp; Properties.Revertable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; True;<BR>&nbsp; Properties.OnChange&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; _OnChange;<BR>&nbsp; Properties.UseLeftAlignmentOnEditing&nbsp; :=&nbsp; False;<BR>end;</P>
<P>destructor TcxDBLookupComboBoxEx.Destroy;<BR>begin<BR>&nbsp; //释放过滤字段列表<BR>&nbsp; if Assigned(FFieldList) then FFieldList.Free;<BR>&nbsp; inherited;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx.DoInitPopup;<BR>begin<BR>&nbsp; //取得过滤字段<BR>&nbsp; if&nbsp; Assigned(Properties.ListSource) then<BR>&nbsp;&nbsp;&nbsp; if Assigned(Properties.ListSource.DataSet) then<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GetFieldList;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered := False;<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; inherited DoInitPopup;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx._FilterListSource;<BR>//过滤字段<BR>begin<BR>&nbsp; if Assigned(Properties.ListSource)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and Assigned(Properties.ListSource.DataSet) then<BR>&nbsp; try<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.DisableControls;<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.OnFilterRecord&nbsp; :=&nbsp; _OnFilterRecord;<BR>&nbsp;&nbsp;&nbsp; if Text &lt;&gt;&nbsp; '' then<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFindText :=&nbsp; Text;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if SelLength &gt; 0 then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFindText :=&nbsp; LeftStr(Text,SelStart);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.Filtered&nbsp; :=&nbsp; FFindText &lt;&gt; '';<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp; Changed;<BR>&nbsp; finally<BR>&nbsp;&nbsp;&nbsp; Properties.ListSource.DataSet.EnableControls;<BR>&nbsp; end;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx.GetFieldList;<BR>//取得过滤字段列表<BR>var<BR>&nbsp; i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Integer;<BR>&nbsp; sFieldName&nbsp; : String;<BR>&nbsp; fdTemp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : TField;<BR>begin<BR>&nbsp; if not Assigned(FFieldList) then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; FFieldList&nbsp; :=&nbsp; TList.Create;<BR>&nbsp;&nbsp;&nbsp; for i:=0 to Properties.ListColumns.Count -1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sFieldName := Properties.ListColumns.Items[i].FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if sFieldName = '' then Continue;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fdTemp&nbsp; :=&nbsp; Properties.ListSource.DataSet.FindField(sFieldName);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if Assigned(fdTemp) then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFieldList.Add(Pointer(fdTemp));<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; end;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx._OnChange(Sender: TObject);<BR>//设置延时<BR>begin<BR>&nbsp; if Focused and DroppedDown then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; KillTimer(Handle,UM_TIMER_FILTER);<BR>&nbsp;&nbsp;&nbsp; SetTimer(Handle,UM_TIMER_FILTER,FILTERTIMER,nil);<BR>&nbsp; end;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx._OnFilterRecord(DataSet: TDataSet;<BR>&nbsp; var Accept: Boolean);<BR>//过滤事件<BR>var<BR>&nbsp; s : String;<BR>&nbsp; i : Integer;<BR>begin<BR>&nbsp; s :=&nbsp; LowerCase(FFindText);<BR>&nbsp; if (s &lt;&gt; '') and (Properties.ListColumns.Count &gt; 0) then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; Accept&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp; for i := 0 to FFieldList.Count -1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Accept&nbsp; :=&nbsp; Pos(s,LowerCase(TField(FFieldList[i]).AsString))&gt;0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if Accept then Exit;<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; end<BR>&nbsp; else<BR>&nbsp;&nbsp;&nbsp; Accept&nbsp; :=&nbsp; True;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx.WMTimer(var Message: TMessage);<BR>//延时更新消息<BR>begin<BR>&nbsp; KillTimer(Handle,UM_TIMER_FILTER);<BR>&nbsp; if Focused and DroppedDown then _FilterListSource;<BR>end;</P>
<P>procedure TcxDBLookupComboBoxEx.UpdateFilterFields;<BR>//更新要过滤的字段列表<BR>begin<BR>&nbsp; if Assigned(FFieldList) then<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; FFieldList.Free;<BR>&nbsp;&nbsp;&nbsp; FFieldList&nbsp; :=&nbsp; nil;<BR>&nbsp; end;<BR>&nbsp; GetFieldList;<BR>end;</P>
<P>end. </P>
<P>&nbsp;<BR>&nbsp;2004-1-10 17:14:06&nbsp;&nbsp;&nbsp; 2.动态生成TcxGridDBTableView的列及页脚的合计栏 var<BR>&nbsp; i&nbsp;&nbsp; : Integer;<BR>&nbsp; cl&nbsp; : TcxGridDBColumn;<BR>begin<BR>&nbsp; Screen.Cursor :=&nbsp; crHourGlass;<BR>&nbsp; cxtvMaster.BeginUpdate;<BR>&nbsp; try<BR>&nbsp;&nbsp;&nbsp; cxtvMaster.ClearItems;<BR>&nbsp;&nbsp;&nbsp; cxtvMaster.DataController.Summary.FooterSummaryItems.Clear;<BR>&nbsp;&nbsp;&nbsp; for i := 0 to cxtvMaster.DataController.DataSet.FieldCount - 1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl&nbsp; :=&nbsp; cxtvMaster.CreateColumn;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.DataBinding.FieldName :=<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxtvMaster.DataController.DataSet.Fields[i].FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if cxtvMaster.DataController.DataSet.Fields[i] is TNumericField then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TNumericField(cxtvMaster.DataController.DataSet.Fields[i])<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .DisplayFormat&nbsp; :=&nbsp; '#,##0.00';<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Width := 80;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with TcxGridDBTableSummaryItem(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxtvMaster.DataController.Summary.FooterSummaryItems.Add) do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Column&nbsp; :=&nbsp; cl;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FieldName :=&nbsp; cl.DataBinding.FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Format&nbsp; :=&nbsp; '#,##0.00';<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kind&nbsp; :=&nbsp; skSum;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if cxtvMaster.DataController.DataSet.Fields[i] is TStringField then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Width := 100<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Width := 80;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.HeaderAlignmentHorz :=&nbsp; taCenter;<BR>&nbsp;&nbsp;&nbsp; end;&nbsp; //if<BR>&nbsp; finally<BR>&nbsp;&nbsp;&nbsp; cxtvMaster.EndUpdate;<BR>&nbsp;&nbsp;&nbsp; Screen.Cursor := crDefault;<BR>&nbsp; end;<BR>end; </P>
<P>&nbsp;<BR>&nbsp;2004-1-10 17:24:32&nbsp;&nbsp;&nbsp; 3.动态生成TcxGridDBBandedTableView的列及页脚的合计栏 如果存储过程或SQL返回如下结果集</P>
<P>员工&nbsp;&nbsp;&nbsp;&nbsp; 1月$&nbsp; 1月￥ 2月$ 2月￥ 合计$ 合计￥<BR>-------------------------------------------<BR>测试员A&nbsp; 200&nbsp;&nbsp; 1658&nbsp; 300&nbsp; 2487&nbsp; 500&nbsp;&nbsp; 4145</P>
<P>将生成如下样式的Grid(页脚没有画出,麻烦,另外设置了显示格式,金额将以#,##0.00的方式显示)<BR>_________________________________________________<BR>|&nbsp; 员工&nbsp; |&nbsp;&nbsp;&nbsp; 1月&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; 2月&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; 合计&nbsp;&nbsp;&nbsp; |<BR>|-----------------------------------------------|<BR>|&nbsp; 员工&nbsp; |&nbsp; ＄ |&nbsp; ￥&nbsp; |&nbsp; ＄ |&nbsp; ￥&nbsp; |&nbsp; ＄ |&nbsp; ￥&nbsp; |<BR>|-----------------------------------------------|<BR>|测试员A | 200 | 1658 | 300 | 2487 | 500 | 4145 |<BR>-------------------------------------------------</P>
<P>var<BR>&nbsp; i&nbsp;&nbsp;&nbsp;&nbsp; : Integer;<BR>&nbsp; cl&nbsp;&nbsp;&nbsp; : TcxGridDBBandedColumn;<BR>begin<BR>&nbsp; Screen.Cursor :=&nbsp; crHourGlass;<BR>&nbsp; cxbtvMaster.BeginUpdate;<BR>&nbsp; try<BR>&nbsp;&nbsp;&nbsp; cxbtvMaster.ClearItems;<BR>&nbsp;&nbsp;&nbsp; cxbtvMaster.Bands.Clear;<BR>&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.Summary.FooterSummaryItems.Clear;<BR>&nbsp;&nbsp;&nbsp; for i := 0 to cxbtvMaster.DataController.DataSet.FieldCount - 1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if i = 0 then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with cxbtvMaster.Bands.Add do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options.HoldOwnColumnsOnly&nbsp; :=&nbsp; True;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Caption&nbsp; := cxbtvMaster.DataController.DataSet.Fields[i].FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if RightStr(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.DataSet.Fields[i].FieldName,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) = '$' then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with cxbtvMaster.Bands.Add do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Options.HoldOwnColumnsOnly&nbsp; :=&nbsp; True;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Caption&nbsp; := Copy(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.DataSet.Fields[i].FieldName, 1,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Length(cxbtvMaster.DataController.DataSet.Fields[i].FieldName)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - 1);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.DataSet.Fields[i].DisplayLabel :=&nbsp; '＄';<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if RightStr(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.DataSet.Fields[i].FieldName,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1) = '￥' then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.DataSet.Fields[i].DisplayLabel :=&nbsp; '￥';</P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl&nbsp; :=&nbsp; cxbtvMaster.CreateColumn;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.HeaderAlignmentHorz :=&nbsp; taCenter;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Position.BandIndex :=&nbsp; cxbtvMaster.Bands.Count - 1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.DataBinding.FieldName :=<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.DataSet.Fields[i].FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if cxbtvMaster.DataController.DataSet.Fields[i] is TNumericField then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TNumericField(cxbtvMaster.DataController.DataSet.Fields[i])<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .DisplayFormat&nbsp; :=&nbsp; '#,##0.00';<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Width := 80;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with TcxGridDBBandedTableSummaryItem(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cxbtvMaster.DataController.Summary.FooterSummaryItems.Add) do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Column&nbsp; :=&nbsp; cl;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FieldName :=&nbsp; cl.DataBinding.FieldName;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Format&nbsp; :=&nbsp; '#,##0.00';<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Kind&nbsp; :=&nbsp; skSum;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else if cxbtvMaster.DataController.DataSet.Fields[i] is TStringField then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Width := 100<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cl.Width := 80;<BR>&nbsp;&nbsp;&nbsp; end;&nbsp; //if<BR>&nbsp; finally<BR>&nbsp;&nbsp;&nbsp; cxbtvMaster.EndUpdate;<BR>&nbsp;&nbsp;&nbsp; Screen.Cursor := crDefault;<BR>&nbsp; end;<BR>end; </P>
<P>&nbsp;<BR>&nbsp;2004-1-31 22:36:25&nbsp;&nbsp;&nbsp; 4.自动调整列宽的方法要注意的地方 可以用ApplyBestFit实现自动列宽;<BR>不能在BeginUpdate和EndUpdate之间调用这个方法,否则会产生下标越界错误;<BR>在BeginUpdate和EndUpdate中清除/建立列不会产生屏幕闪烁,其它需要长时间更新cxGrid数据的操作最好放在BeginUpdate和EndUpdate执行,并用try包起来. </P>
<P>&nbsp;<BR>&nbsp;2004-2-8 15:32:30&nbsp;&nbsp;&nbsp; DevExpress Bar的动态菜单 没有什么说明,细心点应该知道表结构及数据的内容形式<BR>对比了一下代码,用dxBar比用ToolBar+PopupMenu生成动态菜单要简单,只用了一个递归过程</P>
<P>type<BR>&nbsp; //菜单项<BR>&nbsp; PMenuItemInfo = ^TMenuItemInfo;<BR>&nbsp; TMenuItemInfo = record<BR>&nbsp;&nbsp;&nbsp; ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : string;<BR>&nbsp;&nbsp;&nbsp; ParentID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : string;<BR>&nbsp;&nbsp;&nbsp; Caption&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : string;<BR>&nbsp;&nbsp;&nbsp; Hint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : string;<BR>&nbsp;&nbsp;&nbsp; LibraryName&nbsp;&nbsp; : string;<BR>&nbsp;&nbsp;&nbsp; ProcedureName : string;<BR>&nbsp;&nbsp;&nbsp; wParam&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Integer;<BR>&nbsp;&nbsp;&nbsp; lParam&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Integer;<BR>&nbsp; end;</P>
<P>procedure TmgMainForm.BuildMenu;<BR>//生成菜单</P>
<P>&nbsp; procedure SetMenuItemInfo(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const ADataSet&nbsp; : TDataSet;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const AItem&nbsp;&nbsp;&nbsp;&nbsp; : PMenuItemInfo<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; AItem.ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('ID').AsString;<BR>&nbsp;&nbsp;&nbsp; AItem.ParentID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('ParentID').AsString;<BR>&nbsp;&nbsp;&nbsp; AItem.Caption&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('Caption').AsString;<BR>&nbsp;&nbsp;&nbsp; AItem.Hint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('Hint').AsString;<BR>&nbsp;&nbsp;&nbsp; AItem.LibraryName&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('LibraryName').AsString;<BR>&nbsp;&nbsp;&nbsp; AItem.ProcedureName :=&nbsp; ADataSet.FieldByName('ProcedureName').AsString;<BR>&nbsp;&nbsp;&nbsp; AItem.wParam&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('wParam').AsInteger;<BR>&nbsp;&nbsp;&nbsp; AItem.lParam&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; ADataSet.FieldByName('lParam').AsInteger;<BR>&nbsp; end;</P>
<P>&nbsp; procedure CreateItemList(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const ADataSet&nbsp; : TDataSet;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const AList&nbsp;&nbsp;&nbsp;&nbsp; : TList;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const AText&nbsp;&nbsp;&nbsp;&nbsp; : string<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<BR>&nbsp; //根据父节点建立子项目列表<BR>&nbsp; var<BR>&nbsp;&nbsp;&nbsp; m : PMenuItemInfo;<BR>&nbsp;&nbsp;&nbsp; i : Integer;<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; ADataSet.First;<BR>&nbsp;&nbsp;&nbsp; for i := 0 to ADataSet.RecordCount - 1 do<BR>&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ADataSet.FieldByName('ParentID').AsString = AText then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; New(m);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SetMenuItemInfo(ADataSet,m);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AList.Add(m);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ADataSet.Delete;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ADataSet.Next;<BR>&nbsp;&nbsp;&nbsp; end;&nbsp; //for<BR>&nbsp; end;</P>
<P>&nbsp; procedure CreateMenuItems(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const ADataSet&nbsp;&nbsp;&nbsp; : TDataSet;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const AKeyValue&nbsp;&nbsp; : string;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const AItemLinks&nbsp; : TdxBarItemLinks;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const AIndex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Integer<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<BR>&nbsp; //建立菜单项<BR>&nbsp; var<BR>&nbsp;&nbsp;&nbsp; db&nbsp; : TdxBarButton;<BR>&nbsp;&nbsp;&nbsp; dbs : TdxBarSubItem;<BR>&nbsp;&nbsp;&nbsp; l&nbsp;&nbsp; : TList;<BR>&nbsp;&nbsp;&nbsp; i&nbsp;&nbsp; : Integer;<BR>&nbsp;&nbsp;&nbsp; j&nbsp;&nbsp; : Integer;<BR>&nbsp;&nbsp;&nbsp; bg&nbsp; : Boolean;<BR>&nbsp; begin<BR>&nbsp;&nbsp;&nbsp; bg&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp; j :=&nbsp; AIndex;<BR>&nbsp;&nbsp;&nbsp; l :=&nbsp; TList.Create;<BR>&nbsp;&nbsp;&nbsp; try<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CreateItemList(ADataSet, l, AKeyValue);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for i := 0 to l.Count - 1 do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ADataSet.Locate('ParentID', PMenuItemInfo(l[i]).ID, []) then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //有子项<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; TdxBarSubItem.Create(dxBar);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbs.Caption :=&nbsp; PMenuItemInfo(l[i]).Caption;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbs.Hint&nbsp;&nbsp;&nbsp; :=&nbsp; PMenuItemInfo(l[i]).Hint;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbs.Tag&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; Integer(l[i]);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if AIndex &gt; 0 then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbs.ImageIndex&nbsp; :=&nbsp; 0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with AItemLinks.Add do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; dbs;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; j;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BeginGroup&nbsp; :=&nbsp; bg;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;&nbsp; //with<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CreateMenuItems(ADataSet, PMenuItemInfo(l[i]).ID, dbs.ItemLinks, 0);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if dbs.ItemLinks.Count = 0 then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbs.Free<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Inc(j);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //无子项<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if not (PMenuItemInfo(l[i]).Caption = '-') then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; TdxBarButton.Create(dxBar);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.Caption&nbsp; :=&nbsp; PMenuItemInfo(l[i]).Caption;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.Hint&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; PMenuItemInfo(l[i]).Hint;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.Tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; Integer(l[i]);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.OnClick&nbsp; :=&nbsp; MenuItemClick;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if AIndex &gt; 0 then<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; db.ImageIndex :=&nbsp; 0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with AItemLinks.Add do<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; db;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; j;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BeginGroup&nbsp; :=&nbsp; bg;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Inc(j);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else begin<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bg&nbsp; :=&nbsp; True;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;&nbsp; //if bg<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;&nbsp; //if&nbsp; Locate<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end;&nbsp; //for<BR>&nbsp;&nbsp;&nbsp; finally<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; l.Free;<BR>&nbsp;&nbsp;&nbsp; end;<BR>&nbsp; end;</P>
<P>var<BR>&nbsp; rsMenus : TDataSet;<BR>begin<BR>&nbsp; rsMenus :=&nbsp; mgDMMain.GetMenus;&nbsp; //取得数据集<BR>&nbsp; if Assigned(rsMenus) then<BR>&nbsp; try<BR>&nbsp;&nbsp;&nbsp; CreateMenuItems(rsMenus, '', dxBar.Bars[0].ItemLinks, 1);<BR>&nbsp;&nbsp;&nbsp; //一定要刷新一下,否则不更改样式会出错<BR>&nbsp;&nbsp;&nbsp; dxBar.Bars[0].ItemLinks[0].Visible&nbsp; :=&nbsp; False;<BR>&nbsp;&nbsp;&nbsp; dxBar.Bars[0].ItemLinks[0].Visible&nbsp; :=&nbsp; True;<BR>&nbsp; finally<BR>&nbsp;&nbsp;&nbsp; rsMenus.Free;<BR>&nbsp; end;<BR>end; </P>
<P>&nbsp;<BR>&nbsp;2005-1-4 16:34:35&nbsp;&nbsp;&nbsp; 取得TcxLookupComboBox下拉列表中各项的内容 Properties.DataController.Values包含了所有内容,如果要取得当前选择行的内容,用以下代码<BR>//cmb:TcxLookupComboBox;<BR>&nbsp; with cmb.Properties.DataController do<BR>&nbsp;&nbsp;&nbsp; ShowMessage(Values[FindRecordIndexByKey(cmb.EditValue),0]);<BR>//0代表显示的第一列,以Properties.ListColumns为准,可以从这个集合中查找对应的字段名&nbsp; <BR></P></div>
        
        <div class="nbw-act tbar fc03 clearfix">
          <div class="pleft rdif">
	          <span class="pnt pleft" id="$_spanRecommend"><img class="pclass" src="http://b.bst.126.net/style/common/tuijian.png"/></span>
	        <span id="$_spanShowRecommend" class="pleft rdct  phide">
	          <span class="pleft ul fc03"><span id="$_spanRecommendCount">0</span>人</span><span class="pleft iblock icn0 icn0-722 nbw-tgl1 nas-icn0fix">&nbsp;</span><span class="pleft iblock icn0 icn0-621 nbw-tgl0 nas-icn0fix">&nbsp;</span><span class="fc07"></span>|&nbsp;
	        </span>
	         <span class="fc07 pleft nas-tofix">分享到：</span><span class="nas-wrap pleft"><span id="$_shareBtn_email" title="分享到邮件" class="nas-itm nas-itm5">&nbsp;</span><span id="$_shareBtn_163weibo" title="分享到网易微博" class="nas-itm nas-itm0">&nbsp;</span><span id="$_shareBtn_sinaweibo" title="分享到新浪微博" class="nas-itm nas-itm6">&nbsp;</span><span class="nas-itm nas-itm7" title="分享到MSN" id="$_shareBtn_msn">&nbsp;</span><span class="nas-itm nas-itm3" title="分享到QQ空间" id="$_shareBtn_qq">&nbsp;</span><span class="nas-itm nas-itm1" title="分享到人人网" id="$_shareBtn_renren">&nbsp;</span><span class="nas-itm nas-itm2" title="分享到开心网" id="$_shareBtn_kaixin">&nbsp;</span><span class="nas-itm nas-itm4" title="分享到豆瓣" id="$_shareBtn_douban">&nbsp;</span><span class="nas-itm nas-itm8" title="分享到梦幻人生" id="$_shareBtn_dream">&nbsp;</span></span></span>
          </div>
          <div class="pright">
              <span class="fc07">阅读(<span id="$_spaniReadCount">151</span>)</span><span class="sep fc07">|</span>
              <span class="fc07">评论(<span id="$_spaniCommentCount">0</span>)</span><span class="sep fc07">|</span>
              <span class="m2a" id="$_spanCite">引用</span> <span class="m2a" id="$_spanCiteCount">(0)</span>
              <span class="sep fc07">|</span><span id="$_spanReport" class="m2a">举报</span>
          </div>
        </div>
      </div>
      <div id="yodaoad" class="bdwb bds2 bdc0" style="display:none;_zoom:1;">&nbsp;</div>
      <div class="snl">
        <div class="phide bdwb bds2 bdc0 rdcnt" id="$_divRecommendContent"></div>
        <div id="$_divTopLink" class='top fc03 clearfix'>
	        <span class="ilft iblock icn0 icn0-620">&nbsp;</span>
	        <div class="pleft thide"><a class="m2a"  href="http://ticols.blog.163.com/blog/static/25304216200811794217571/"> SQL流水帐</a></div>
	        <span class="irgt iblock icn0 icn0-619">&nbsp;</span>
	        <div class="pright thide"><a class="m2a"  href="http://ticols.blog.163.com/blog/static/25304216200912625944340/">FastReport 问题汇总</a></div>
	     </div> 
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">历史上的今天</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="relateblog phide">
          <h4 class="bdwb bds2 bdc0 fc07 fs0">相关文章</h4>
          <div class="cnt ztag clearfix"></div>
        </div>
	    <div class="author">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">最近读者</h4>
	      <div class="cnt ztag clearfix"></div>
	    </div>
	    <div class="phide" id="yodaoad_1" style="_zoom:1;"></div>
	    <div class="comment">
	      <h4 class="bdwb bds2 bdc0 fc07 fs0">评论</h4>
	      <a name="blogComment" id="blogComment"></a>
	      <div class="ztag"></div>
	    </div>
      </div>
      <div class="cite ztag fc03"></div>
    </div>
   </div>
  </div>
</div>
<div class="phide nb-init">
  <textarea name="js">
    this.p={  m:2,
              b:2,
              id:'fks_085075084086085071081087086095086083082067080084087069',
              blogTitle:'DevExpress的一些用法笔记',
              blogAbstract:'<P\><BR\>&nbsp;2004-1-10 17:08:06&nbsp;&nbsp;&nbsp; 1.扩展cxLookupComboBox,使其支持多列查询的cxLookupComboBoxEx //==============================================================================<BR\>// Unit Name: cxLookupComboBoxEx<BR\>// Author&nbsp;&nbsp; : ysai<BR\>// Date&nbsp;&nbsp;&nbsp;&nbsp; : 2003<BR\>// Purpose&nbsp; : 扩展cxLookupComboBox,cxDBLookupComboBox,使其支持多列过滤<BR\>// History&nbsp; :<BR\>//&nbsp;&nbsp;&nbsp; 2003-05-28大数据量改进</P\>',
              blogUrl:'blog/static/253042162009031101555105',
              isPublished:1,
              istop:false,
              type:0,
              modifyTime:0,
              publishTime:1233411355105,
              permalink:'blog/static/253042162009031101555105',
              commentCount:0,
              mainCommentCount:0,
              recommendCount:0,
              bsrk:-100,
              publisherId:0,
              recomBlogHome:false,
              friendstatus:'none',
              followstatus:'unFollow',
              pubSucc:'',
              visitorProvince:'浙江',
              visitorCity:'杭州',
              isWeekend:true,
              taobaoVersion:6,
              taobaolink:"http://g.163.com/a?CID=4399&Values=3931351846&Redirect=http://ju.atpanel.com/?url=http://www.tmall.com/?ad_id=100040497852881d4a61&am_id=&cm_id=&pm_id=",
              taobaobgimage:"http://blog.163.com/newpage/images/taobaolayerbg5.jpg",
              mset:'000',
              mcon:'',
              srk:-100,
              remindgoodnightblog:false,
              isBlackVisitor:false,
              isShowYodaoAd:false
            }
  </textarea>
  <textarea name="jst" id="m-3-jst-1">
    {list a as x}
    {if !!x}
    <div class="iblock nbw-fce nbw-f40">
      <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.visitorName}/">
      <img alt="${x.visitorNickname|escape}" onerror="location.f40" class="cwd bdwa bdc0" src="${fn1(x.visitorName)}"/>
      </a>
      <div class="cwd vname thide">
        {if x.moveFrom=='wap'}
          <a class="noul pnt" target="_blank" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome"><span title="通过手机博客访问" class="iblock icn0 icn0-417">&nbsp;</span></a>
        {/if}
        <a class="fc03 m2a"  target="_blank" hidefocus="true" href="http://blog.163.com/${x.visitorName}/">
          ${fn(x.visitorNickname,8)|escape}
        </a>
      </div>
    </div>
    {/if}
    {/list}
  </textarea>
  <textarea name="jst" id="m-3-jst-2">
    {if !!a}
    <a target="_blank" href="http://blog.163.com/${a.userName}/"><img class="bdwa bdc0 pnt" onerror="location.f60" src="${fn1(a.userName)}"/></a>
    <a target="_blank" class="fc03 m2a" href="http://blog.163.com/${a.userName}/">${fn(a.nickname,8)|escape}</a>
    <div class="intro fc05">${a.selfIntro|escape}{if great260}${suplement}{/if}</div>
	    <div class="acts ztag"></div>
    {/if}
  </textarea>
  <#--最新日志，群博日志-->
  <textarea name="jst" id="m-3-jst-3">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="${furl()}${x.permalink}/?latestBlog">${fn(x.title,26)|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--推荐日志-->
  <textarea name="jst" id="m-3-jst-4">
    <p class="fc06">推荐过这篇日志的人：</p>
    <div>
      {list a as x}
      {if !!x}
      <div class="iblock nbw-fce nbw-f40">
        <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.recommenderName}/">
        <img alt="${x.recommenderNickname}" onerror="location.f40" class="cwd bdwa bdc0" src="${fn1(x.recommenderName)}"/>
        </a>
        <div class="cwd thide">
          <a class="fc03 m2a" target="_blank" hidefocus="true" href="http://blog.163.com/${x.recommenderName}/">
            ${fn(x.recommenderNickname,6)|escape}
          </a>
        </div>
      </div>
      {/if}
      {/list}
    </div>
    {if !!b&&b.length>0}
    <p  class="fc06">他们还推荐了：</p>
    <ul>
    {list b as y}
      {if !!y}
        <li class="rrb"><span class="iblock">&#183;</span><a class="fc03 m2a" target="_blank" href="http://blog.163.com/${y.recommendBlogPermalink}/?from=blog/static/253042162009031101555105">${y.recommendBlogTitle}</a></li>
      {/if}
    {/list}
    </ul>
    {/if}
  </textarea>
  <#--引用记录-->
  <textarea name="jst" id="m-3-jst-5">
    <span class="pleft fc07">引用记录：</span>
    <ul class="tbac">
    {list d as x}
      <li class="clearfix">
        <span class="pleft iblock">&#183;</span>
        <div class="tbl thide pleft"><span><a target="_blank" class="fc07 m2a" href="${x.referBlogUrl}">${x.referBlogTitle}</a></span></div>
        <div class="tbr pleft"><span><a target="_blank" class="fc07 m2a" href="${x.referHomePage}">${x.referUserName}</a></span></div>
      </li>
    {/list}
    </ul>
  </textarea>
  <#--博主推荐-->
  <textarea name="jst" id="m-3-jst-6">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="http://blog.163.com/${x.userName}/${x.permalink}/?recommendBlog" title="${x.title|default:""|escape}">${x.title|default:""|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--随机阅读-->
  <textarea name="jst" id="m-3-jst-7">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" href="http://blog.163.com/${x.userName}/${x.permalink}/?personalRecomBlog" title="${x.title|default:""|escape}">${x.title|default:""|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--首页推荐-->
  <textarea name="jst" id="m-3-jst-8">
    {list a as x}
    {if !!x}
    <li class="thide"><a target="_blank" class="fc03 m2a" target="_blank" href="${x.blogUrl|default:""|escape}?recommendReader" title="${x.blogTile|default:""|escape}">${x.blogTile|default:""|escape}</a></li>
    {/if}
    {/list}
  </textarea>
  <#--相关文章-->
  <textarea name="jst" id="m-3-jst-9">
    <ul>
      {list a as x}
      {if x_index>9}{break}{/if}
      {if !!x}
        <li class="thide fc03">
          <a class="m2a" target="_blank" target="_blank"  href="${x.url|default:""}?fromdm&fromSearch&isFromSearchEngine=${isFromSearchEngine|default:"no"}"  title="${x.title|default:""|escape}">${x.title|default:""|escape}</a><span class="fc07">${fn2(parseInt(x.date),'yyyy-MM-dd HH:mm:ss')}</span>
        </li>
      {/if}
      {/list}
    </ul>
  </textarea>
  <#--历史上的今天-->
  <textarea name="jst" id="m-3-jst-10">
    <ul>
      {list a as x}
      {if x_index>4}{break}{/if}
      {if !!x}
        <li class="thide fc03">
          <a class="m2a" target="_blank"  href="http://blog.163.com/${x.userName}/${x.permalink|default:""}"  title="${x.title|default:""|escape}">${fn1(x.title,60)|escape}</a><span class="fc07">${fn2(x.publishTime,'yyyy-MM-dd HH:mm:ss')}</span>
        </li>
      {/if}
      {/list}
    </ul>
  </textarea>
  <#--右边模块结构-->
  <textarea name="txt" id="m-3-txt-0">
    <div class="uinfo ztag"></div>
    <h4 class="fc07 fs0 ltt">最新日志</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">该作者的其他文章</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">博主推荐</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">相关日志</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">随机阅读</h4>
    <ul class="ztag blst"></ul>
    <h4 class="fc07 fs0 ltt phide ztag">首页推荐</h4>
    <ul class="ztag blst"></ul>
    <div class="more"><a target="_blank" class="fc03 m2a" href="http://blog.163.com">更多&gt;&gt;</a></div>
    <br/><br/>
    <a href="http://blog.163.com/services/spring2011.html?bkspring_20110127_03" target="_blank"><img style="border:none;" src="http://blog.163.com/newpage/images/spring_act.png"/></a>
    <br/><br/><br/><br/>
    <a id="yodaoad_suggest" target="_blank" href="http://fankui.163.com/ft/comment.fb?pid=5002&fid=15001" class="fc05 m2a phide">对“推广广告”提建议</a>
    <br/><br/>
    <div id="yodaoad_r" style="display:none;_zoom:1;"></div>
  </textarea>
  <#--评论模块结构-->
  <textarea name="txt" id="m-3-txt-1">
    <div class="publish ztag"></div>
    <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style="_zoom:1;"></div>
    <div class="ztag bdwt bds2 bdc0">
      <div class="case"></div>
      <div class="clearfix"></div>
    </div>
  </textarea>
  <#--引用模块结构-->
  <textarea name="jst" id="m-3-txt-2">
     <div class="close">
       <span class="ztag iblock icn0 icn0-57">&nbsp;</span>
     </div>
	 <div class="ztag phide"></div>
  </textarea>
</div>
</div>
      <div class="l cl h100">&nbsp;</div>
      <div class="r cr h100">&nbsp;</div>
    </div>
    <div class="nb-mb lcr bh space">
      <div class="l bl bh">&nbsp;</div>
      <div class="r br bh">&nbsp;</div>
      <div class="c bc bh lcr">&nbsp;</div>
    </div>
  </div>
</div>
      <div class="l wl g lg h100">&nbsp;</div>
      <div class="l wl t lt">&nbsp;</div>
      <div class="l wl b lb">&nbsp;</div>
      <div class="r wr g rg h100">&nbsp;</div>
      <div class="r wr t rt">&nbsp;</div>
      <div class="r wr b rb">&nbsp;</div>
    </div>
  </div>
  <div class="nb-are nb-smb"><div class="wkg h space"><div class="l h">&nbsp;</div><div class="r h">&nbsp;</div><div class="c h">&nbsp;</div></div></div>
<div class="nb-are nb-fot">
  <div class="wkg h">
    <h2>页脚</h2>
    <div class="k">      <a class="m2a fc08" target="_blank" href="http://corp.163.com/index_gb.html">公司简介</a>
      <span class="p fc10">-</span>
      <a class="m2a fc08" target="_blank" href="http://gb.corp.163.com/gb/contactus.html">联系方法</a>
      <span class="p fc10">-</span>
      <a class="m2a fc08" target="_blank" href="http://corp.163.com/gb/job/job.html">招聘信息</a>
      <span class="p fc10">-</span>
      <a class="m2a fc08" target="_blank" href="http://help.163.com/?b13abk1">客户服务</a>
      <span class="p fc10">-</span>
      <a class="m2a fc08" target="_blank" href="http://corp.163.com/gb/legal/legal.html">相关法律</a>
      <span class="p fc10">-</span>
      <a class="m2a fc08" target="_blank" href="http://blog.163.com/public/theme/">博客风格</a>
      <span class="p fc10">-</span>
      <a class="m2a fc08" target="_blank" href="http://blog.163.com/services/wapblog.html">手机博客</a>
      
      <link rel="alternate" type="application/rss+xml" title="RSS" href="http://ticols.blog.163.com/rss/"/>
      <span class="p fc10">-</span><span class="fc08" id="$_foot_subscribe"><span class="iblock m2a icn0 icn0-919">&nbsp;</span><a class="m2a fc08">订阅此博客</a></span>
    </div>
    <p class="fc08">网易公司版权所有&nbsp;&copy;1997-2011</p>
  </div>
</div></div>
    <!--[if lte IE 6]></div><![endif]-->
  <!--[if lte IE 6]></div><![endif]-->
  <div class="nb-layer" id="blog-163-com-layer"></div>
  <div class="nb-tpl nb-init phide" id="blog-163-com-template" style="display:none;">  <textarea rows="1" cols="1" name="jst" id="nb-jst-a1">  <a class="pr" target="_blank" href="http://help.163.com/special/007525FT/blog.html?b13aze1">帮助</a>
  <span class="fr iblock space icn1 icn1-4">&nbsp;</span>
  <a class="pr" target="_blank" href="http://blog.163.com/activation.do?host=activation&&username=${u}">${u}</a>
</textarea>
  <textarea rows="1" cols="1" name="jst" id="nb-jst-d0">      {list wl as x}
        <div class="grp">${x.g}</div>
        {list x.l as y}
        <a class="itm noul" href="#" hidefocus="true" name="{if typeof(y.v)=='string'}${y.v}{else}${y_index}{/if}">${y.n}</a>
        {/list}
      {/list}
</textarea>
  <textarea rows="1" cols="1" name="jst" id="nb-jst-d1">	{if defined('wl')}
        {list wl as x}<a class="itm noul" href="#" hidefocus="true" name="${x.v}">${x.n}</a>{/list}
    {/if}
</textarea>
</div>
<script type="text/javascript">
  window.N = {tm:{'zbtn':'nbtn',
                  'bdc0':'bdc0','bdc2':'bdc1',
				  'bgc0':'bgc0','bgc1':'bgc1','bgc2':'bgc2','bgh0':'bgc9',
				  'fc00':'fc03','fc01':'fc04','fc02':'fc05','fc03':'fc06','fc04':'fc07','fc05':'fc09'}};
  Date.servTime = '02/25/2011 21:37:10';
  location.api = 'http://api.blog.163.com/';
  location.msg = 'http://api.blog.163.com/msg/dwr';
  location.dwr = 'http://api.blog.163.com/ticols/dwr';
  location.vcd = 'http://api.blog.163.com/cap/captcha.jpgx?parentId=25304216&r=';
  location.mrt = 'http://b.bst.126.net/newpage/style/mbox/';
  location.fce = 'http://os.blog.163.com/common/ava.s?host=';
  location.fce2= 'http://os.blog.163.com/common/ava.s?host=';
  location.passportfce = 'http://os.blog.163.com/common/ava.s?passport=';
  location.fpr = 'http://b.bst.126.net/common/portrait/face/preview/';
  location.f60 = 'http://b.bst.126.net/common/face60.png';
  location.f140= 'http://b.bst.126.net/common/face140.png';
  location.adf140= 'http://b.bst.126.net/common/admireface140.png';
  location.ept = 'http://b.bst.126.net/common/empty.png';
  location.guide_profile_add= 'http://b.bst.126.net/common/guide_profile_add.gif';
  location.phtoto_dream = 'http://photo.dream.163.com/blog/writeBlogCallback.do';
  window.CF = {
    ca:false
   ,cb:''
   ,cc:false
   ,cd:false
   ,ce:'-3'
   ,ck:0
   ,ci:['api.blog.163.com'
       ,'http://photo.163.com/photo/html/crossdomain.html?t=20100205'
        
        ,'ud.blog.163.com'
        
        
        
        
        ]
   ,cj:[-3]
   ,cl:''
   ,cm:["","blog/","album/","music/","collection/","friends/","profile/","pprank/"]
   ,cf:0
   ,co:{pv:false
       ,ti:4228
       ,tn:''
       ,tc:0
       ,tl:2
       ,ut:0
       ,un:''
       ,um:''
       ,ui:0
       ,ud:false}
   ,cp:{nr:0
       ,cr:0
       ,vr:-100
       ,fr:0}
   ,cs:0
   ,ct:{'nav':['首页','日志','相册','音乐','收藏','博友','关于我'],'enabled':[0,1,6],'defaultnav':parseInt('1111111',2)}
   ,cu:false
   ,cv:false
  };
  window.UD = {};
  UD.host = {
      userId:25304216
     ,userName:'ticols'
     ,nickName:'ticols'
     ,baseUrl:'http://ticols.blog.163.com/'
     ,gender:'他'
     ,email:'ticols@163.com'
     ,photo163Name:'ticols'
     ,photo163HostName:'ticols'
     ,TOKEN_HTMLMODULE:''
     ,photoblogguide:false
     ,isMultiUserBlog:false
  };
</script>
    <script type="text/javascript" src="http://b1.bst.126.net/newpage/r/j/pc.js?v=7417109399"></script>
    <script type="text/javascript" src="http://b1.bst.126.net/newpage/r/j/m/m-3/pm.js?v=6293838664"></script>
  <script src="http://analytics.163.com/ntes.js" type="text/javascript"></script>
  <script type="text/javascript">
    _ntes_nacc='blog';neteaseTracker();
    
    new Image().src = 'http://blog.163.com/newpage/images/analyse.png?s=p&t='+new Date().getTime();
  </script>
</body>
</html>
